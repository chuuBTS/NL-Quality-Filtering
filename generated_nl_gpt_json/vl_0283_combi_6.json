{
  "gpt_result": {
    "nl_utterance": "Create a heat map to count the states by moon phase.",
    "encoded_fields": [
      {
        "field": "moon_phase",
        "type": "quantitative",
        "nl_ref_type": "explicit",
        "nl_ref_phrase": "moon phase"
      },
      {
        "field": "state",
        "type": "nominal",
        "nl_ref_type": "explicit",
        "nl_ref_phrase": "states"
      }
    ],
    "constraints": [
      {
        "c_type": "mark",
        "c_name": "rect chart",
        "c_list": [
          {
            "mark": "rect",
            "encoding": {
              "x": {},
              "y": {},
              "color": {
                "type": "quantitative"
              },
              "column": {
                "ignore": true,
                "type": "nominal"
              },
              "row": {
                "ignore": true,
                "type": "nominal"
              }
            },
            "unique_map": {
              "(x,y)": "color"
            }
          }
        ],
        "nl_ref_type": "explicit",
        "nl_ref_phrase": "heat map"
      },
      {
        "c_type": "transform",
        "c_name": "aggregate",
        "c_list": [
          {
            "aggregate": "count"
          }
        ],
        "nl_ref_type": "explicit",
        "nl_ref_phrase": "count"
      }
    ]
  },
  "input": "Dataset Information: {\n  \"data samples\": [\n    {\n      \"observed\": \"Ed L. was salmon fishing with a companion in Prince William Sound. After anchoring off shore, his companion took a small boat up a river to check on the state of the salmon run. As the day wore on toward evening and he didn't come back at the expected time, Ed scanned upriver and across the adjacent land with binoculars. There he saw a sasquatch walking across the tundra, with long, smooth steps and with dark hair flowing from its shoulders, bouncing behind \\\"like a cape\\\" at every step. The sasquatch paid no attention to the boat (distance about 1,000').\",\n      \"location_details\": \"East side of Prince William Sound\",\n      \"county\": \"Valdez-Chitina-Whittier County\",\n      \"state\": \"Alaska\",\n      \"season\": \"Fall\",\n      \"title\": NaN,\n      \"latitude\": NaN,\n      \"longitude\": NaN,\n      \"date\": NaN,\n      \"number\": 1261.0,\n      \"classification\": \"Class A\",\n      \"geohash\": NaN,\n      \"temperature_high\": NaN,\n      \"temperature_mid\": NaN,\n      \"temperature_low\": NaN,\n      \"dew_point\": NaN,\n      \"humidity\": NaN,\n      \"cloud_cover\": NaN,\n      \"moon_phase\": NaN,\n      \"precip_intensity\": NaN,\n      \"precip_probability\": NaN,\n      \"precip_type\": NaN,\n      \"pressure\": NaN,\n      \"summary\": NaN,\n      \"uv_index\": NaN,\n      \"visibility\": NaN,\n      \"wind_bearing\": NaN,\n      \"wind_speed\": NaN,\n      \"location\": NaN\n    },\n    {\n      \"observed\": \"I live on 1010 Highway near the Johnston County Airport. Its kind of a country road , couple swampy areas and such, a good hunting area you could say. I was on my way back from the beach at my dad's house, my sister was with me. I'm 24 she's only 15. Anyway, I just turned out of the local BBQ place for some food (White Swan open 24 hrs) to head home. I got past the local livestock building, and turned onto 210 Hwy, drove about 3-4 minutes, turned onto 1010 or Cleveland Rd. There was an old car parked on the side of the road, so I could hardly see to turn left, so when I did, I drove for maybe 10-15 seconds when I saw eyes in front of me (it was about 9:15 in the PM) I turned lights on bright and I thought it was a homeless man walking along the road, but seeing someone walking down here when its dark is unlikey, I slow down ,I didn't know if it was gonna cross the road , I was driving about 35  in a 45 mph zone. As I got closer I noticed it was not a man, it was something else, like a bear walked up right with long legs and arms longer than a man, had dark hair, I couldn't really see the color very well. He was about as big as my grandfather and he is 6' 11'' . I was speechless, and my sister was scared to death because our house is 1 minute from where he was at. That night I couldn't sleep and the next morning I got up and went back there, no foot prints or anything because it is so dry here from no rain.I haven't seen it since but it's only been a few days\",\n      \"location_details\": NaN,\n      \"county\": \"Johnston County\",\n      \"state\": \"North Carolina\",\n      \"season\": \"Summer\",\n      \"title\": \"Report 4676: Nighttime sighting by a man and his sister on road near Smithfield.\",\n      \"latitude\": 35.5311,\n      \"longitude\": -78.4048,\n      \"date\": \"2002-07-14\",\n      \"number\": 4676.0,\n      \"classification\": \"Class A\",\n      \"geohash\": \"dq24pu5ret\",\n      \"temperature_high\": 85.03,\n      \"temperature_mid\": 78.99000000000001,\n      \"temperature_low\": 72.95,\n      \"dew_point\": 71.11,\n      \"humidity\": 0.82,\n      \"cloud_cover\": 0.86,\n      \"moon_phase\": 0.15,\n      \"precip_intensity\": 0.1727,\n      \"precip_probability\": 1.0,\n      \"precip_type\": \"rain\",\n      \"pressure\": 1013.69,\n      \"summary\": \"Heavy rain until evening.\",\n      \"uv_index\": 6.0,\n      \"visibility\": 7.1,\n      \"wind_bearing\": 71.0,\n      \"wind_speed\": 0.87,\n      \"location\": \"POINT(-78.4048 35.5311)\"\n    },\n    {\n      \"observed\": \"I was traveling southeast from crownpoint nm, on the eastern part of the Navajo Reservation. i was headed home as i was going through a small canyon (pass) in the head lights of the vehicle i observed a animal traveling east to west across the high way, it appears to about 6ft. tall and big, it was walking on two legs and went into a small gully i pulled the vehicle around and shine the light up the gully and i could not relocate the animal. due to the darkness and only seeing it through the head lights i could not make out the hair color it appeared dark. i know the differents between deer and other animals and it was not one of them, i could not explain what i've seen. \",\n      \"location_details\": \"about 10 miles southeast of crowpoint nm on highway # 9 i belive it a bia road\",\n      \"county\": \"McKinley County\",\n      \"state\": \"New Mexico\",\n      \"season\": \"Fall\",\n      \"title\": \"Report 12994: Man observes creature walking across road.\",\n      \"latitude\": 35.58565,\n      \"longitude\": -107.9978,\n      \"date\": \"2005-11-03\",\n      \"number\": 12994.0,\n      \"classification\": \"Class A\",\n      \"geohash\": \"9w74qqnmkv\",\n      \"temperature_high\": 55.76,\n      \"temperature_mid\": 48.065,\n      \"temperature_low\": 40.37,\n      \"dew_point\": 26.18,\n      \"humidity\": 0.38,\n      \"cloud_cover\": NaN,\n      \"moon_phase\": 0.06,\n      \"precip_intensity\": 0.0,\n      \"precip_probability\": 0.0,\n      \"precip_type\": NaN,\n      \"pressure\": 1017.14,\n      \"summary\": \"Clear throughout the day.\",\n      \"uv_index\": 0.0,\n      \"visibility\": NaN,\n      \"wind_bearing\": 228.0,\n      \"wind_speed\": 7.26,\n      \"location\": \"POINT(-107.9978 35.58565)\"\n    },\n    {\n      \"observed\": \"An unseen animal howling LOUDLY while violently shaking a 12X45 mobile home almost off its blocks. My wife and I were awake, she was cleaning in the kitchen, and I was in the living room reading. Suddenly a LOUD howling sound began and at the same moment the trailer began shaking very violently. The howling and the shaking lasted ten seconds, but it was very loud as that of a bull horn. My first response was thinking we were having an earthquake.My second was someone outside somehow making the noise while somehow shaking the trailer. I grabbed my pistol and ran outside. There was nothing moving outside any where.\",\n      \"location_details\": \"Our river place is on the Ohoopee River next to the Griffin Ferry Bridge. It is about five miles east of Oak Park, Ga.\",\n      \"county\": \"Emanuel County\",\n      \"state\": \"Georgia\",\n      \"season\": \"Winter\",\n      \"title\": \"Report 7575: Military man and wife experience loud howling and shaking of mobile home near the Ohoopee River\",\n      \"latitude\": 32.34705,\n      \"longitude\": -82.2464,\n      \"date\": \"1982-11-23\",\n      \"number\": 7575.0,\n      \"classification\": \"Class B\",\n      \"geohash\": \"djv802tgpz\",\n      \"temperature_high\": NaN,\n      \"temperature_mid\": NaN,\n      \"temperature_low\": NaN,\n      \"dew_point\": NaN,\n      \"humidity\": NaN,\n      \"cloud_cover\": NaN,\n      \"moon_phase\": NaN,\n      \"precip_intensity\": NaN,\n      \"precip_probability\": NaN,\n      \"precip_type\": NaN,\n      \"pressure\": NaN,\n      \"summary\": NaN,\n      \"uv_index\": NaN,\n      \"visibility\": NaN,\n      \"wind_bearing\": NaN,\n      \"wind_speed\": NaN,\n      \"location\": \"POINT(-82.2464 32.34705)\"\n    },\n    {\n      \"observed\": \"There were anywhere from 25 - 50 all over in the wet sand. All but one were about the size of my boots (size 10 women's) but at least 1/2 again as wide. I'll send you photos as soon as they are processed, but in the meantime I'll describe them as best I can. They have 5 toes, no arch, and a wide heel. They are about 1\\\" - 1 1/2\\\" deep in packed, hard sand. There are two different sets of prints, at least as far as I can tell. One is deformed and has a smaller heel, but still not thin enough to be that of a human (in my opinion). There's a large lump like bunion or something on the side of each foot in some of the prints but not others. J. and I got quite a few pictures of these prints (both sets) and one other print that we found heading up the cliff. It was about twice as big as all the others but nor nearly as clear. This was my first attempt at shutter-buggery since I was 10 so they may not be the best. They may not even come out at all! It remains to be seen. I'm also going to cast one or more of the prints if I can manage it. If I do, I'll be sure to send them down, packed well!\",\n      \"location_details\": \"Along Carbon river\",\n      \"county\": \"Pierce County\",\n      \"state\": \"Washington\",\n      \"season\": \"Spring\",\n      \"title\": \"Report 1731: 25-50 Footprints found near Orting\",\n      \"latitude\": 47.0945,\n      \"longitude\": -122.0874,\n      \"date\": \"1978-04-30\",\n      \"number\": 1731.0,\n      \"classification\": \"Class B\",\n      \"geohash\": \"c235vv69m7\",\n      \"temperature_high\": 56.39,\n      \"temperature_mid\": 48.95,\n      \"temperature_low\": 41.51,\n      \"dew_point\": 40.83,\n      \"humidity\": 0.75,\n      \"cloud_cover\": 0.91,\n      \"moon_phase\": 0.78,\n      \"precip_intensity\": 0.0,\n      \"precip_probability\": 0.0,\n      \"precip_type\": NaN,\n      \"pressure\": 1014.23,\n      \"summary\": \"Mostly cloudy throughout the day.\",\n      \"uv_index\": 5.0,\n      \"visibility\": 9.0,\n      \"wind_bearing\": 282.0,\n      \"wind_speed\": 0.56,\n      \"location\": \"POINT(-122.0874 47.0945)\"\n    }\n  ],\n  \"column names\": [\n    \"observed\",\n    \"location_details\",\n    \"county\",\n    \"state\",\n    \"season\",\n    \"title\",\n    \"latitude\",\n    \"longitude\",\n    \"date\",\n    \"number\",\n    \"classification\",\n    \"geohash\",\n    \"temperature_high\",\n    \"temperature_mid\",\n    \"temperature_low\",\n    \"dew_point\",\n    \"humidity\",\n    \"cloud_cover\",\n    \"moon_phase\",\n    \"precip_intensity\",\n    \"precip_probability\",\n    \"precip_type\",\n    \"pressure\",\n    \"summary\",\n    \"uv_index\",\n    \"visibility\",\n    \"wind_bearing\",\n    \"wind_speed\",\n    \"location\"\n  ]\n}\n\nYour Job:\nI am developing a NL to Data Visualization Dataset. \nPlease help me generate natural language utterance for given dataset and constraints.\nDefinition about the Taks:\n- 'utterance' is what a user would say to make a chart. It should be a queries structure. One NL 'utterance' is in one or two sentences. Here are two examples from Queries for reference:\n    Cylinders average mpg.\n    Count Sub-Category Asc.\n- 'given dataset' is in form of column names, column type, range/unique values of the column.\n- 'constraints' are information about the chart that should be included in the utterance. \n    So we can find a reference phrase in the NL utterance that corresponds to the given constraints. \n- 'reference phrase' can be explicit, ambiguous, and by_value. 'ambiguous' means the phrase can map to more than one columns in the dataset, always a hypernym of column names(depending on the dataset values).\n    For example:\n    {\"column\": \"gdpPercap\", \"nl_ref_type\": \"explicit\", \"nl_ref_phrase\": \"GDP per capita\"},\n    {\"column\": [\"country\",\"continent\"], \"nl_ref_type\": \"ambiguous\", \"nl_ref_phrase\": \"region\"}\n    {\"column\": [\"country\",\"country_short_name\"], \"nl_ref_type\": \"ambiguous\", \"nl_ref_phrase\": \"countries\"}\n    {\"c_type\": \"mark\", \"c_name\": \"point chart\", \"nl_ref_type\": \"explicit\", \"nl_ref_phrase\": \"scatter plot\"}\n    {\"c_type\": \"mark\", \"c_name\": \"arc chart\", \"nl_ref_type\": \"explicit\", \"nl_ref_phrase\": \"pie chart\"}\n    {\"c_type\": \"transform\",\"c_name\": \"filter\",\"c_list\": [{\"field\": \"country\",\"oneOf\": [\"Iceland\",\"Norway\"]}],\"nl_ref_type\": \"explicit\",\"nl_ref_phrase\": \"for countries Iceland and Norway\"},\n    {\"c_type\": \"transform\",\"c_name\": \"filter\",\"c_list\": [{\"field\": \"country\",\"oneOf\": [\"Iceland\",\"Norway\"]}],\"nl_ref_type\": \"by_value\",\"nl_ref_phrase\": \"for Iceland and Norway\"},\n- the 'nl_ref_phrase' for 'ambiguous' columns should be equally near all ambiguous columns, not too near to one of the column since it would not be ambiguous.\n    good example: {\"column\": [\"country\",\"region\"], \"nl_ref_type\": \"ambiguous\", \"nl_ref_phrase\": \"location\"}\n    bad example: {\"column\": [\"country\",\"region\"], \"nl_ref_type\": \"ambiguous\", \"nl_ref_phrase\": \"region\"}\n- You only include given constraints and no other information. \n    For example, if a column name is not in the given constraint, it will not be included in the NL utterance.\n    Also, it a chart mark or chart encoding channel is not in the given constraint, it will not be included in the NL utterance.\n- all 'nl_ref_phrase' shoule be included in the 'nl_utterance'. \n\nThe output format is identical to the input format, but fill in the str blanks(\"...\").\n### Input:\n{\n  \"nl_utterance\": \"...\",\n  \"encoded_fields\": [\n    {\n      \"field\": \"moon_phase\",\n      \"type\": \"quantitative\",\n      \"nl_ref_type\": \"explicit\",\n      \"nl_ref_phrase\": \"...\"\n    },\n    {\n      \"field\": \"state\",\n      \"type\": \"nominal\",\n      \"nl_ref_type\": \"explicit\",\n      \"nl_ref_phrase\": \"...\"\n    }\n  ],\n  \"constraints\": [\n    {\n      \"c_type\": \"mark\",\n      \"c_name\": \"rect chart\",\n      \"c_list\": [\n        {\n          \"mark\": \"rect\",\n          \"encoding\": {\n            \"x\": {},\n            \"y\": {},\n            \"color\": {\n              \"type\": \"quantitative\"\n            },\n            \"column\": {\n              \"ignore\": true,\n              \"type\": \"nominal\"\n            },\n            \"row\": {\n              \"ignore\": true,\n              \"type\": \"nominal\"\n            }\n          },\n          \"unique_map\": {\n            \"(x,y)\": \"color\"\n          }\n        }\n      ],\n      \"nl_ref_type\": \"explicit\",\n      \"nl_ref_phrase\": \"...\"\n    },\n    {\n      \"c_type\": \"transform\",\n      \"c_name\": \"aggregate\",\n      \"c_list\": [\n        {\n          \"aggregate\": \"count\"\n        }\n      ],\n      \"nl_ref_type\": \"explicit\",\n      \"nl_ref_phrase\": \"...\"\n    }\n  ]\n}\n\n### Output:"
}