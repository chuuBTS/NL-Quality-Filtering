{
  "gpt_result": {
    "nl_utterance": "Show me a bar chart that counts the sightings for each state, colored by the moon phase.",
    "encoded_fields": [
      {
        "field": "moon_phase",
        "type": "quantitative",
        "nl_ref_type": "explicit",
        "nl_ref_phrase": "colored by the moon phase"
      },
      {
        "field": "state",
        "type": "nominal",
        "nl_ref_type": "explicit",
        "nl_ref_phrase": "for each state"
      }
    ],
    "constraints": [
      {
        "c_type": "mark",
        "c_name": "rect chart",
        "c_list": [
          {
            "mark": "rect",
            "encoding": {
              "x": {},
              "y": {},
              "color": {
                "type": "quantitative"
              },
              "column": {
                "ignore": true,
                "type": "nominal"
              },
              "row": {
                "ignore": true,
                "type": "nominal"
              }
            },
            "unique_map": {
              "(x,y)": "color"
            }
          }
        ],
        "nl_ref_type": "explicit",
        "nl_ref_phrase": "bar chart"
      },
      {
        "c_type": "transform",
        "c_name": "aggregate",
        "c_list": [
          {
            "aggregate": "count"
          }
        ],
        "nl_ref_type": "explicit",
        "nl_ref_phrase": "counts the sightings"
      }
    ]
  },
  "input": "Dataset Information: {\n  \"data samples\": [\n    {\n      \"observed\": \"Ed L. was salmon fishing with a companion in Prince William Sound. After anchoring off shore, his companion took a small boat up a river to check on the state of the salmon run. As the day wore on toward evening and he didn't come back at the expected time, Ed scanned upriver and across the adjacent land with binoculars. There he saw a sasquatch walking across the tundra, with long, smooth steps and with dark hair flowing from its shoulders, bouncing behind \\\"like a cape\\\" at every step. The sasquatch paid no attention to the boat (distance about 1,000').\",\n      \"location_details\": \"East side of Prince William Sound\",\n      \"county\": \"Valdez-Chitina-Whittier County\",\n      \"state\": \"Alaska\",\n      \"season\": \"Fall\",\n      \"title\": NaN,\n      \"latitude\": NaN,\n      \"longitude\": NaN,\n      \"date\": NaN,\n      \"number\": 1261.0,\n      \"classification\": \"Class A\",\n      \"geohash\": NaN,\n      \"temperature_high\": NaN,\n      \"temperature_mid\": NaN,\n      \"temperature_low\": NaN,\n      \"dew_point\": NaN,\n      \"humidity\": NaN,\n      \"cloud_cover\": NaN,\n      \"moon_phase\": NaN,\n      \"precip_intensity\": NaN,\n      \"precip_probability\": NaN,\n      \"precip_type\": NaN,\n      \"pressure\": NaN,\n      \"summary\": NaN,\n      \"uv_index\": NaN,\n      \"visibility\": NaN,\n      \"wind_bearing\": NaN,\n      \"wind_speed\": NaN,\n      \"location\": NaN\n    },\n    {\n      \"observed\": \"This is a follow-up report. It is about the 50 lb. dog food a week, and the x tree marker I found by my deer stand in early fall of 2015. First the dog food. I moved my game cam to see if I can figure out why so much dog food is has been missing. No surprise there. Just pics of me and the dogs. What is surprising is I haven't had to buy any dog food for around three weeks! Again this is down from a 50 lb. dog food bag a week to a 50 lb. bag bought over three weeks ago and the only thing changed is the camera. The other thing is what some call a tree marker. I found this in early Oct. When I went to check on my deer stands. It is made out of two large branches that cross to make a x shape. It also has a twig in the middle that is y shaped upside down. One end of the big branches is stuck in the roots of one tree and the other end is supported by the branch of another tree. The other branch that makes the x has one end stuck in the ground and the other in a branch on another tree (the one with first branch stuck in roots) with a smaller branch put in to hold it. When I first found the x marker the leaves had started falling and I found three of different colors and put them on center twig half way down the y. The next week they was gone. Ok no big deal. Before leaving I put an apple in the crook of the tree the x was on out of reach of deer and placed three more leaves on the y twig, made sure they would stay by breaking the y's end. The next week I went back and no leaves and apple is gone. Maybe some other critter got the apple, I don't know, My game cam is still on dog food. Anyway I left another apple a jar of pb and tied on a piece of blaze orange string on the x. This time a couple of weeks go by and some friends and I go riding and I asked if they would want to see the x. It was night, we rode to the x, apple was there but the peanut butter was missing. We looked around and couldn't find it. I said look for tracks, none found, so we checked out the x and my friend found a hair on the x marker. We went back home and she pulled the hair out of her pocket so we could check it out. It is an inch long and curly but the weird thing is its clear looking. I still have it and pics of the x marker, however what gets me is when I went hunting on the 21st of Nov. I went to the stand by the x marker (10 ft away) and the jar of peanut butter was on my stand with the lid on it and 2/3 missing!! I am the type that has to see or have real good proof of bf before I believe. However a lot of strange stuff has been going on around here and I wanted to share.\",\n      \"location_details\": NaN,\n      \"county\": \"Lawrence County\",\n      \"state\": \"Kentucky\",\n      \"season\": \"Fall\",\n      \"title\": \"Report 50318: More strange incidents reported from an old Farmplace near Blaine\",\n      \"latitude\": 38.05344,\n      \"longitude\": -82.5446,\n      \"date\": \"2015-11-21\",\n      \"number\": 50318.0,\n      \"classification\": \"Class B\",\n      \"geohash\": \"dnv23xkv77\",\n      \"temperature_high\": 66.07,\n      \"temperature_mid\": 51.24,\n      \"temperature_low\": 36.41,\n      \"dew_point\": 30.24,\n      \"humidity\": 0.62,\n      \"cloud_cover\": 0.34,\n      \"moon_phase\": 0.35,\n      \"precip_intensity\": 0.0014,\n      \"precip_probability\": 0.93,\n      \"precip_type\": \"rain\",\n      \"pressure\": 1015.87,\n      \"summary\": \"Light rain in the evening.\",\n      \"uv_index\": 3.0,\n      \"visibility\": 9.62,\n      \"wind_bearing\": 224.0,\n      \"wind_speed\": 1.74,\n      \"location\": \"POINT(-82.5446 38.05344)\"\n    },\n    {\n      \"observed\": \"Encounter as told to BFRO researchers Scott Kessler & Patricia Normand on January 27,2001 by two teenage (both 14 y/o) hunters (K.H. & L.C.) about their encounter November 18th, 2000. We had ridden a 4-wheeler to a deerstand not far from the house. We had been there about 30 minutes. It was near 4 pm and the sun was just beginning to go down. It was almost dusk. We were out there hunting for deer when I told my friend K.H. that there was something moving closer to a group of wild hogs about 40 feet from us.When it got closer we saw what appeared to be a man \\\"duck walking\\\" towards the hogs. It scratched it's head and looked around and began to shuffle one foot back and forth (as if it was shifting its weight) .It was also making \\\"blowing sounds like a deer does\\\". I shifted my position in the deerstand and hit my shotgun ( 20ga.) against the inside of the deerstand and it heard it and stood up.  The hogs ran off when it stood upright. We bolted out the back door of the stand and jumped on the 4 wheeler and hauled it out of there,after turning a corner and across a small creek I (L.C.) looked back and saw it standing by a tree watching us leave. We had watched it all total for about 10 minutes. It was reddish brown, covered with hair and we could see it's eyes . The face was somewhat covered with hair but not as covered as the rest of the body. It was about 7 feet tall and maybe 300, to 350 pounds.\",\n      \"location_details\": \"On file w/BFRO\",\n      \"county\": \"La Salle Parish\",\n      \"state\": \"Louisiana\",\n      \"season\": \"Fall\",\n      \"title\": \"Report 1536: Two teenage deer hunters have encounter while hunting\",\n      \"latitude\": 31.6825,\n      \"longitude\": -92.3104,\n      \"date\": \"2000-11-18\",\n      \"number\": 1536.0,\n      \"classification\": \"Class A\",\n      \"geohash\": \"9vwk5rtegy\",\n      \"temperature_high\": 39.67,\n      \"temperature_mid\": 38.370000000000005,\n      \"temperature_low\": 37.07,\n      \"dew_point\": 37.11,\n      \"humidity\": 0.95,\n      \"cloud_cover\": 0.95,\n      \"moon_phase\": 0.75,\n      \"precip_intensity\": 0.0439,\n      \"precip_probability\": 1.0,\n      \"precip_type\": \"rain\",\n      \"pressure\": 1023.1,\n      \"summary\": \"Rain throughout the day.\",\n      \"uv_index\": 3.0,\n      \"visibility\": 7.72,\n      \"wind_bearing\": 43.0,\n      \"wind_speed\": 7.76,\n      \"location\": \"POINT(-92.3104 31.6825)\"\n    }\n  ],\n  \"column names\": [\n    \"observed\",\n    \"location_details\",\n    \"county\",\n    \"state\",\n    \"season\",\n    \"title\",\n    \"latitude\",\n    \"longitude\",\n    \"date\",\n    \"number\",\n    \"classification\",\n    \"geohash\",\n    \"temperature_high\",\n    \"temperature_mid\",\n    \"temperature_low\",\n    \"dew_point\",\n    \"humidity\",\n    \"cloud_cover\",\n    \"moon_phase\",\n    \"precip_intensity\",\n    \"precip_probability\",\n    \"precip_type\",\n    \"pressure\",\n    \"summary\",\n    \"uv_index\",\n    \"visibility\",\n    \"wind_bearing\",\n    \"wind_speed\",\n    \"location\"\n  ]\n}\n\nYour Job:\nI am developing a NL to Data Visualization Dataset. \nPlease help me generate natural language utterance for given dataset and constraints.\nDefinition about the Taks:\n- 'utterance' is what a user would say to make a chart, it can be a question or a command. One NL 'utterance' is in one or two sentences. \n- 'given dataset' is in form of column names, column type, range/unique values of the column.\n- 'constraints' are information about the chart that should be included in the utterance. \n    So we can find a reference phrase in the NL utterance that corresponds to the given constraints. \n- 'reference phrase' can be explicit, ambiguous, and by_value. 'ambiguous' means the phrase can map to more than one columns in the dataset, always a hypernym of column names(depending on the dataset values).\n    For example:\n    {\"column\": \"gdpPercap\", \"nl_ref_type\": \"explicit\", \"nl_ref_phrase\": \"GDP per capita\"},\n    {\"column\": [\"country\",\"continent\"], \"nl_ref_type\": \"ambiguous\", \"nl_ref_phrase\": \"region\"}\n    {\"column\": [\"country\",\"country_short_name\"], \"nl_ref_type\": \"ambiguous\", \"nl_ref_phrase\": \"countries\"}\n    {\"c_type\": \"mark\", \"c_name\": \"point chart\", \"nl_ref_type\": \"explicit\", \"nl_ref_phrase\": \"scatter plot\"}\n    {\"c_type\": \"mark\", \"c_name\": \"arc chart\", \"nl_ref_type\": \"explicit\", \"nl_ref_phrase\": \"pie chart\"}\n    {\"c_type\": \"transform\",\"c_name\": \"filter\",\"c_list\": [{\"field\": \"country\",\"oneOf\": [\"Iceland\",\"Norway\"]}],\"nl_ref_type\": \"explicit\",\"nl_ref_phrase\": \"for countries Iceland and Norway\"},\n    {\"c_type\": \"transform\",\"c_name\": \"filter\",\"c_list\": [{\"field\": \"country\",\"oneOf\": [\"Iceland\",\"Norway\"]}],\"nl_ref_type\": \"by_value\",\"nl_ref_phrase\": \"for Iceland and Norway\"},\n- the 'nl_ref_phrase' for 'ambiguous' columns should be equally near all ambiguous columns, not too near to one of the column since it would not be ambiguous.\n    good example: {\"column\": [\"country\",\"region\"], \"nl_ref_type\": \"ambiguous\", \"nl_ref_phrase\": \"location\"}\n    bad example: {\"column\": [\"country\",\"region\"], \"nl_ref_type\": \"ambiguous\", \"nl_ref_phrase\": \"region\"}\n- You only include given constraints and no other information. \n    For example, if a column name is not in the given constraint, it will not be included in the NL utterance.\n    Also, it a chart mark or chart encoding channel is not in the given constraint, it will not be included in the NL utterance.\n- all 'nl_ref_phrase' shoule be included in the 'nl_utterance'. \n\nThe output format is identical to the input format, but fill in the str blanks(\"...\").\n### Input:\n{\n  \"nl_utterance\": \"...\",\n  \"encoded_fields\": [\n    {\n      \"field\": \"moon_phase\",\n      \"type\": \"quantitative\",\n      \"nl_ref_type\": \"explicit\",\n      \"nl_ref_phrase\": \"...\"\n    },\n    {\n      \"field\": \"state\",\n      \"type\": \"nominal\",\n      \"nl_ref_type\": \"explicit\",\n      \"nl_ref_phrase\": \"...\"\n    }\n  ],\n  \"constraints\": [\n    {\n      \"c_type\": \"mark\",\n      \"c_name\": \"rect chart\",\n      \"c_list\": [\n        {\n          \"mark\": \"rect\",\n          \"encoding\": {\n            \"x\": {},\n            \"y\": {},\n            \"color\": {\n              \"type\": \"quantitative\"\n            },\n            \"column\": {\n              \"ignore\": true,\n              \"type\": \"nominal\"\n            },\n            \"row\": {\n              \"ignore\": true,\n              \"type\": \"nominal\"\n            }\n          },\n          \"unique_map\": {\n            \"(x,y)\": \"color\"\n          }\n        }\n      ],\n      \"nl_ref_type\": \"explicit\",\n      \"nl_ref_phrase\": \"...\"\n    },\n    {\n      \"c_type\": \"transform\",\n      \"c_name\": \"aggregate\",\n      \"c_list\": [\n        {\n          \"aggregate\": \"count\"\n        }\n      ],\n      \"nl_ref_type\": \"explicit\",\n      \"nl_ref_phrase\": \"...\"\n    }\n  ]\n}\n\n### Output:"
}