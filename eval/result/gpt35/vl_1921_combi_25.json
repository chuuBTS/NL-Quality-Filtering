{
    "nl_utterance": "What is the trend of 7-day moving average of cases over time in the countries UK, France, Germany, and Portugal?",
    "table_info": {
        "table_columns": [
            "date",
            "daterep",
            "date2",
            "day",
            "days",
            "month",
            "year",
            "cases",
            "deaths",
            "country",
            "geoid",
            "countryterritorycode",
            "popdata2019",
            "continentexp",
            "cumulative_number_for_14_days_of",
            "pop",
            "poprank",
            "t",
            "c",
            "cases_cml",
            "cases_ma7",
            "cases_pop",
            "cases_cml_pop",
            "deaths_cml",
            "deaths_ma7",
            "deaths_pop",
            "deaths_cml_pop",
            "deaths_rate",
            "neighbours",
            "p20"
        ],
        "table_samples": [
            {
                "date": 20191231,
                "daterep": "31/12/2019",
                "date2": "2019-12-31",
                "day": 31,
                "days": 1,
                "month": 12,
                "year": 2019,
                "cases": 0,
                "deaths": 0,
                "country": "Afghanistan",
                "geoid": "AF",
                "countryterritorycode": "AFG",
                "popdata2019": 38041757.0,
                "continentexp": "Asia",
                "cumulative_number_for_14_days_of": NaN,
                "pop": 38041757.0,
                "poprank": 37.0,
                "t": 1,
                "c": 1,
                "cases_cml": 0,
                "cases_ma7": NaN,
                "cases_pop": 0.0,
                "cases_cml_pop": 0.0,
                "deaths_cml": 0,
                "deaths_ma7": NaN,
                "deaths_pop": 0.0,
                "deaths_cml_pop": 0.0,
                "deaths_rate": NaN,
                "neighbours": 0,
                "p20": 0
            },
            {
                "date": 20201123,
                "daterep": "23/11/2020",
                "date2": "2020-11-23",
                "day": 23,
                "days": 329,
                "month": 11,
                "year": 2020,
                "cases": 56,
                "deaths": 1,
                "country": "Mozambique",
                "geoid": "MZ",
                "countryterritorycode": "MOZ",
                "popdata2019": 30366043.0,
                "continentexp": "Africa",
                "cumulative_number_for_14_days_of": 4.1790099,
                "pop": 30366043.0,
                "poprank": 47.0,
                "t": 329,
                "c": 135,
                "cases_cml": 15037,
                "cases_ma7": 99.571426,
                "cases_pop": 1.8441652e-06,
                "cases_cml_pop": 0.00049519131,
                "deaths_cml": 124,
                "deaths_ma7": 2.0,
                "deaths_pop": 3.2931521e-08,
                "deaths_cml_pop": 4.0835089e-06,
                "deaths_rate": 0.0082463259,
                "neighbours": 0,
                "p20": 0
            },
            {
                "date": 20200513,
                "daterep": "13/05/2020",
                "date2": "2020-5-13",
                "day": 13,
                "days": 135,
                "month": 5,
                "year": 2020,
                "cases": 0,
                "deaths": 0,
                "country": "New_Caledonia",
                "geoid": "NC",
                "countryterritorycode": "NCL",
                "popdata2019": 282757.0,
                "continentexp": "Oceania",
                "cumulative_number_for_14_days_of": 0.0,
                "pop": 282757.0,
                "poprank": 177.0,
                "t": 135,
                "c": 140,
                "cases_cml": 18,
                "cases_ma7": 0.0,
                "cases_pop": 0.0,
                "cases_cml_pop": 6.3658903e-05,
                "deaths_cml": 0,
                "deaths_ma7": 0.0,
                "deaths_pop": 0.0,
                "deaths_cml_pop": 0.0,
                "deaths_rate": 0.0,
                "neighbours": 0,
                "p20": 0
            },
            {
                "date": 20200410,
                "daterep": "10/04/2020",
                "date2": "2020-4-10",
                "day": 10,
                "days": 102,
                "month": 4,
                "year": 2020,
                "cases": 0,
                "deaths": 0,
                "country": "Equatorial_Guinea",
                "geoid": "GQ",
                "countryterritorycode": "GNQ",
                "popdata2019": 1355982.0,
                "continentexp": "Africa",
                "cumulative_number_for_14_days_of": 0.44248375,
                "pop": 1355982.0,
                "poprank": 152.0,
                "t": 102,
                "c": 62,
                "cases_cml": 18,
                "cases_ma7": 0.42857143,
                "cases_pop": 0.0,
                "cases_cml_pop": 1.3274513e-05,
                "deaths_cml": 0,
                "deaths_ma7": 0.0,
                "deaths_pop": 0.0,
                "deaths_cml_pop": 0.0,
                "deaths_rate": 0.0,
                "neighbours": 0,
                "p20": 0
            },
            {
                "date": 20200909,
                "daterep": "09/09/2020",
                "date2": "2020-9-9",
                "day": 9,
                "days": 254,
                "month": 9,
                "year": 2020,
                "cases": 0,
                "deaths": 0,
                "country": "Burundi",
                "geoid": "BI",
                "countryterritorycode": "BDI",
                "popdata2019": 11530577.0,
                "continentexp": "Africa",
                "cumulative_number_for_14_days_of": 0.31221333,
                "pop": 11530577.0,
                "poprank": 78.0,
                "t": 254,
                "c": 33,
                "cases_cml": 466,
                "cases_ma7": 3.0,
                "cases_pop": 0.0,
                "cases_cml_pop": 4.0414281e-05,
                "deaths_cml": 1,
                "deaths_ma7": 0.0,
                "deaths_pop": 0.0,
                "deaths_cml_pop": 8.6725926e-08,
                "deaths_rate": 0.0021459227,
                "neighbours": 0,
                "p20": 0
            }
        ]
    },
    "refer_fileds": [
        {
            "field": "date2",
            "type": "temporal"
        },
        {
            "field": "cases_ma7",
            "type": "quantitative"
        },
        {
            "field": "country",
            "type": "nominal"
        }
    ],
    "refer_others": [
        {
            "c_type": "task",
            "c_name": "trend",
            "c_list": [
                {
                    "mark": [
                        "bar",
                        "line",
                        "area"
                    ],
                    "encoding": {
                        "x": {
                            "type": "temporal"
                        }
                    }
                }
            ],
            "nl_ref_type": "explicit",
            "nl_ref_phrase": "..."
        },
        {
            "c_type": "transform",
            "c_name": "filter",
            "c_list": [
                {
                    "field": "country",
                    "oneOf": [
                        "UK",
                        "France",
                        "Germany",
                        "Portugal"
                    ]
                }
            ],
            "nl_ref_type": "explicit",
            "nl_ref_phrase": "..."
        }
    ],
    "good_generated_chart_list": [
        {
            "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
            "data": {
                "url": "https://raw.githubusercontent.com/chuuBTS/NL-Quality-Filtering/refs/heads/main/chart_dataset_csv/vl_1921.csv",
                "format": {
                    "type": "csv"
                }
            },
            "mark": "line",
            "encoding": {
                "x": {
                    "field": "date2",
                    "type": "temporal"
                },
                "y": {
                    "field": "cases_ma7",
                    "type": "quantitative",
                    "aggregate": "sum"
                },
                "color": {
                    "field": "country",
                    "type": "nominal"
                }
            },
            "transform": [
                {
                    "filter": {
                        "field": "country",
                        "oneOf": [
                            "UK",
                            "France",
                            "Germany",
                            "Portugal"
                        ]
                    }
                }
            ]
        },
        {
            "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
            "data": {
                "url": "https://raw.githubusercontent.com/chuuBTS/NL-Quality-Filtering/refs/heads/main/chart_dataset_csv/vl_1921.csv",
                "format": {
                    "type": "csv"
                }
            },
            "mark": "area",
            "encoding": {
                "x": {
                    "field": "date2",
                    "type": "temporal"
                },
                "y": {
                    "field": "cases_ma7",
                    "type": "quantitative",
                    "aggregate": "sum"
                },
                "color": {
                    "field": "country",
                    "type": "nominal"
                }
            },
            "transform": [
                {
                    "filter": {
                        "field": "country",
                        "oneOf": [
                            "UK",
                            "France",
                            "Germany",
                            "Portugal"
                        ]
                    }
                }
            ]
        }
    ],
    "predict35": [
        {
            "mark": "line",
            "encoding": {
                "x": {
                    "field": "date2",
                    "type": "temporal"
                },
                "y": {
                    "field": "cases_ma7",
                    "type": "quantitative"
                },
                "color": {
                    "field": "country",
                    "type": "nominal"
                }
            },
            "transform": [
                {
                    "filter": {
                        "field": "country",
                        "oneOf": [
                            "UK",
                            "France",
                            "Germany",
                            "Portugal"
                        ]
                    }
                }
            ]
        },
        {
            "mark": "area",
            "encoding": {
                "x": {
                    "field": "date2",
                    "type": "temporal"
                },
                "y": {
                    "field": "cases_ma7",
                    "type": "quantitative"
                },
                "color": {
                    "field": "country",
                    "type": "nominal"
                }
            },
            "transform": [
                {
                    "filter": {
                        "field": "country",
                        "oneOf": [
                            "UK",
                            "France",
                            "Germany",
                            "Portugal"
                        ]
                    }
                }
            ]
        },
        {
            "mark": "point",
            "encoding": {
                "x": {
                    "field": "date2",
                    "type": "temporal"
                },
                "y": {
                    "field": "cases_ma7",
                    "type": "quantitative"
                },
                "color": {
                    "field": "country",
                    "type": "nominal"
                }
            },
            "transform": [
                {
                    "filter": {
                        "field": "country",
                        "oneOf": [
                            "UK",
                            "France",
                            "Germany",
                            "Portugal"
                        ]
                    }
                }
            ]
        },
        {
            "mark": "bar",
            "encoding": {
                "x": {
                    "field": "date2",
                    "type": "temporal"
                },
                "y": {
                    "field": "cases_ma7",
                    "type": "quantitative"
                },
                "color": {
                    "field": "country",
                    "type": "nominal"
                }
            },
            "transform": [
                {
                    "filter": {
                        "field": "country",
                        "oneOf": [
                            "UK",
                            "France",
                            "Germany",
                            "Portugal"
                        ]
                    }
                }
            ]
        }
    ]
}