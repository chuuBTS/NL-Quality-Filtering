{
    "nl_utterance": "What is the average profit for each state?",
    "table_info": {
        "table_columns": [
            "Days to Ship Actual",
            "Sales Forecast",
            "Ship Status",
            "Days to Ship Scheduled",
            "Sales per Customer",
            "Profit Ratio",
            "Category",
            "City",
            "Country",
            "Customer Name",
            "Days to Ship Actual (bin)",
            "Discount",
            "Number of Records",
            "Order Date",
            "Order ID",
            "Postal Code",
            "Product Name",
            "Profit",
            "Quantity",
            "Region",
            "Sales (bin)",
            "Sales",
            "Segment",
            "Ship Date",
            "Ship Mode",
            "State",
            "Sub-Category"
        ],
        "table_samples": [
            {
                "Days to Ship Actual": 6,
                "Sales Forecast": 293,
                "Ship Status": "Shipped On Time",
                "Days to Ship Scheduled": 6,
                "Sales per Customer": "$209.30 ",
                "Profit Ratio": "27.00%",
                "Category": "Office Supplies",
                "City": "Columbus",
                "Country": "United States",
                "Customer Name": "Chuck Clark",
                "Days to Ship Actual (bin)": 5,
                "Discount": 0,
                "Number of Records": 1,
                "Order Date": "12/30/2017",
                "Order ID": "CA-2017-126221",
                "Postal Code": 47201,
                "Product Name": "Eureka The Boss Plus 12-Amp Hard Box Upright Vacuum, Red",
                "Profit": 56.511,
                "Quantity": 2,
                "Region": "Central",
                "Sales (bin)": "$0 ",
                "Sales": 209.3,
                "Segment": "Home Office",
                "Ship Date": "1/5/2018",
                "Ship Mode": "Standard Class",
                "State": "Indiana",
                "Sub-Category": "Appliances"
            },
            {
                "Days to Ship Actual": 4,
                "Sales Forecast": 62,
                "Ship Status": "Shipped Late",
                "Days to Ship Scheduled": 3,
                "Sales per Customer": "$44.40 ",
                "Profit Ratio": "50.00%",
                "Category": "Office Supplies",
                "City": "Sunnyvale",
                "Country": "United States",
                "Customer Name": "Kalyca Meade",
                "Days to Ship Actual (bin)": 4,
                "Discount": 0,
                "Number of Records": 1,
                "Order Date": "12/16/2017",
                "Order ID": "CA-2017-137463",
                "Postal Code": 94086,
                "Product Name": "Avery 475",
                "Profit": 22.2,
                "Quantity": 3,
                "Region": "West",
                "Sales (bin)": "$0 ",
                "Sales": 44.4,
                "Segment": "Corporate",
                "Ship Date": "12/20/2017",
                "Ship Mode": "Second Class",
                "State": "California",
                "Sub-Category": "Labels"
            },
            {
                "Days to Ship Actual": 5,
                "Sales Forecast": 29,
                "Ship Status": "Shipped Early",
                "Days to Ship Scheduled": 6,
                "Sales per Customer": "$20.34 ",
                "Profit Ratio": "46.00%",
                "Category": "Office Supplies",
                "City": "Seattle",
                "Country": "United States",
                "Customer Name": "Philisse Overcash",
                "Days to Ship Actual (bin)": 5,
                "Discount": 0,
                "Number of Records": 1,
                "Order Date": "4/26/2017",
                "Order ID": "CA-2017-143665",
                "Postal Code": 98115,
                "Product Name": "Strathmore Photo Mount Cards",
                "Profit": 9.3564,
                "Quantity": 3,
                "Region": "West",
                "Sales (bin)": "$0 ",
                "Sales": 20.34,
                "Segment": "Home Office",
                "Ship Date": "5/1/2017",
                "Ship Mode": "Standard Class",
                "State": "Washington",
                "Sub-Category": "Paper"
            },
            {
                "Days to Ship Actual": 6,
                "Sales Forecast": 208,
                "Ship Status": "Shipped On Time",
                "Days to Ship Scheduled": 6,
                "Sales per Customer": "$148.48 ",
                "Profit Ratio": "11.30%",
                "Category": "Technology",
                "City": "San Francisco",
                "Country": "United States",
                "Customer Name": "Jamie Kunitz",
                "Days to Ship Actual (bin)": 5,
                "Discount": 20,
                "Number of Records": 1,
                "Order Date": "10/30/2017",
                "Order ID": "CA-2017-123491",
                "Postal Code": 94122,
                "Product Name": "Geemarc AmpliPOWER60",
                "Profit": 16.704,
                "Quantity": 2,
                "Region": "West",
                "Sales (bin)": "$0 ",
                "Sales": 148.48,
                "Segment": "Consumer",
                "Ship Date": "11/5/2017",
                "Ship Mode": "Standard Class",
                "State": "California",
                "Sub-Category": "Phones"
            },
            {
                "Days to Ship Actual": 6,
                "Sales Forecast": 224,
                "Ship Status": "Shipped On Time",
                "Days to Ship Scheduled": 6,
                "Sales per Customer": "$159.96 ",
                "Profit Ratio": "11.30%",
                "Category": "Technology",
                "City": "San Diego",
                "Country": "United States",
                "Customer Name": "Jay Kimmel",
                "Days to Ship Actual (bin)": 5,
                "Discount": 20,
                "Number of Records": 1,
                "Order Date": "8/7/2017",
                "Order ID": "US-2017-155999",
                "Postal Code": 92105,
                "Product Name": "GE DSL Phone Line Filter",
                "Profit": 17.9955,
                "Quantity": 5,
                "Region": "West",
                "Sales (bin)": "$0 ",
                "Sales": 159.96,
                "Segment": "Consumer",
                "Ship Date": "8/13/2017",
                "Ship Mode": "Standard Class",
                "State": "California",
                "Sub-Category": "Phones"
            }
        ]
    },
    "refer_fileds": [
        {
            "field": "Profit",
            "type": "quantitative",
            "aggregate": "mean"
        },
        {
            "field": "State",
            "type": "nominal"
        }
    ],
    "refer_others": [
        {
            "c_type": "transform",
            "c_name": "aggregate",
            "c_list": [
                {
                    "field": "Profit",
                    "aggregate": "mean"
                }
            ],
            "nl_ref_type": "explicit",
            "nl_ref_phrase": "..."
        }
    ],
    "good_generated_chart_list": [
        {
            "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
            "data": {
                "url": "https://raw.githubusercontent.com/chuuBTS/NL-Quality-Filtering/refs/heads/main/chart_dataset_csv/vl_0093.csv",
                "format": {
                    "type": "csv"
                }
            },
            "mark": "bar",
            "encoding": {
                "x": {
                    "field": "State",
                    "type": "nominal"
                },
                "y": {
                    "field": "Profit",
                    "type": "quantitative",
                    "aggregate": "mean"
                }
            }
        },
        {
            "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
            "data": {
                "url": "https://raw.githubusercontent.com/chuuBTS/NL-Quality-Filtering/refs/heads/main/chart_dataset_csv/vl_0093.csv",
                "format": {
                    "type": "csv"
                }
            },
            "mark": "point",
            "encoding": {
                "x": {
                    "field": "Profit",
                    "type": "quantitative",
                    "aggregate": "mean"
                },
                "y": {
                    "field": "State",
                    "type": "nominal"
                }
            }
        },
        {
            "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
            "data": {
                "url": "https://raw.githubusercontent.com/chuuBTS/NL-Quality-Filtering/refs/heads/main/chart_dataset_csv/vl_0093.csv",
                "format": {
                    "type": "csv"
                }
            },
            "mark": "point",
            "encoding": {
                "x": {
                    "field": "State",
                    "type": "nominal"
                },
                "y": {
                    "field": "Profit",
                    "type": "quantitative",
                    "aggregate": "mean"
                }
            }
        }
    ],
    "predict35": [
        {
            "mark": "bar",
            "encoding": {
                "x": {
                    "field": "State",
                    "type": "nominal"
                },
                "y": {
                    "field": "Profit",
                    "type": "quantitative",
                    "aggregate": "mean"
                }
            }
        },
        {
            "mark": "point",
            "encoding": {
                "x": {
                    "field": "State",
                    "type": "nominal"
                },
                "y": {
                    "field": "Profit",
                    "type": "quantitative",
                    "aggregate": "mean"
                }
            }
        },
        {
            "mark": "arc",
            "encoding": {
                "theta": {
                    "field": "Profit",
                    "type": "quantitative",
                    "aggregate": "mean"
                },
                "color": {
                    "field": "State",
                    "type": "nominal"
                }
            },
            "transform": [
                {
                    "aggregate": [
                        {
                            "op": "mean",
                            "field": "Profit",
                            "as": "Average Profit"
                        }
                    ],
                    "groupby": [
                        "State"
                    ]
                }
            ]
        },
        {
            "mark": "tick",
            "encoding": {
                "x": {
                    "field": "State",
                    "type": "nominal"
                },
                "y": {
                    "field": "Profit",
                    "type": "quantitative",
                    "aggregate": "mean"
                }
            }
        }
    ]
}